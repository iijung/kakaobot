# 개요 및 이론 

### 요약 

1. PC에 앱 플레이어 설치 (아이폰만, 안드로이드는 선택)
2. 카카오톡, 메신저봇R, Wear OS by Google 설치 

<br />

## 환경구성

### 앱 플레이어 설치
> 안드로이드 휴대폰일 경우, 앱 플레이어 설치 생략 가능합니다.

아이폰에서는 메신저봇R과 같은 자동응답 어플이 지원되지 않습니다. <br />
따라서, 휴대폰에서 사용할 수 없으므로 다음과 같이 PC에 개발환경 구성이 필요합니다.

1. PC 에서 모바일 애플리케이션을 구동하기 위한 앱플레이어를 하나 다운 받습니다.
   * [LD 앱플레이어](https://kr.ldplayer.net/)
   * [NOX 앱플레이어](https://kr.bignox.com/)
   * 그 외 모바일 앱이 실행되는 프로그램

2. 앱 플레이어 내부에서 자동응답을 수행할 카카오톡 계정 로그인을 시도합니다.
   * 다른 기기에서 카카오톡 로그인 시, 단톡방이나 대화내용 등이 사라므로 다음과 같이 백업을 추천드립니다.
   ```
   # 기존 기기에서 수행
   1. 카카오톡 접속
   2. 더보기 > 설정 > 채팅 > 대화 백업
   3. 백업 패스워드 입력

   # 새로운 기기에서 수행
   1, 카카오톡 접속
   1. 복원하기
   2. 복원 패스워드 입력

   ※ 오래된 미디어 파일이나 비밀 채팅 및 오픈 채팅의 대화 내용은 백업이 되지 않습니다.
   ```   
   <br />

### 필수 어플리케이션 설치
> 자동 응답을 위해 필요한 앱은 총 3개 입니다.  <br />
> 구글 플레이스토어를 통해 앱을 설치해야하므로 구글 계정이 필요합니다.

![process](../images/process.png)
|       용도        | 간단 설명                                                |
| :---------------: | :------------------------------------------------------- |
|     카카오톡      | 알림센터에 메시지를 표시합니다. (알림 팝업)              |
|     메신저봇R     | 알림센터에서 메시지를 읽어와 답장을 보냅니다.            |
| Wear OS by Google | 자동 응답 어플로 부터 요청받은 답장을 실제로 전달합니다. |

1. 카카오톡
  ```
  카카오톡 알림이 꺼져 있거나 채팅방을 보고 있는 경우, 자동응답이 실행되지 않습니다.
  알림센터로 부터 메시지를 읽어와 답장을 보내야하기 때문에 알림 팝업 설정이 꼭 필요합니다.

  1. 카카오톡 접속
  2. 더보기 > 설정 > 알림
    * 메시지 알림 : ON
    * 알림 표시 > 알림 팝업 :  항상 받기
    * 알림 센터에 메시지 표시
        - 모든 채팅방 : 모든 채팅방에 자동 응답이 수행됨
        - 알림 켠 채팅방만 : 알림을 켠 채팅방만 자동 응답이 수행됨


  ※ 카카오톡 부계정을 생성하는 방법
    1. 다이소 국민 유심(5000원)을 구입합니다.
        - 유심 구입 시, 뒷면의 가입 가능한 요금제를 확인합니다.
        - LG U+ 이야기알뜰 요금제의 경우, 2년간 월 통신비 0원입니다.
    2. 설명서를 따라 공기계에 유심을 삽입한 후 새로운 휴대폰 번호를 개통합니다.
    3. 이후 와이파이만 연결해서 사용하면 월 통신비 0원!
        - 3개월간 통화내역이 없을 경우, 요금제가 자동 변경되므로 주의바랍니다.
  ```

2. 메신저봇R
  ```
  구글 플레이스토어에서 설치 가능한 다른 자동 응답 어플을 사용하셔도 되지만, 사용 언어나 API에 차이가 있을 수 있습니다.

  알림 팝업을 읽어올 권한이 필요합니다.
  첫 실행 시 권한 설정 화면이 출력되지만 설정하지 못한 경우, 다음과 같이 권한을 부여합니다.

  # 알림 읽기 권한
   1. 메신저봇R 접속
   2. 우측 상단 > 설정 > 공용 설정 > 기타 > 알림 읽기 권한
        - 메신저봇 활성화
  ```

3. Wear OS by Google 또는 ~~Galaxy Wearable~~
  ```
  답장을 보내기 위해 사용되는 어플입니다. 둘 중 하나가 설치만 되어있으면 됩니다.
  스마트워치에서 답장을 보낼 때 사용하는 어플이기도 합니다.
  ```
<br />

###  메신저봇R 화면구성
<img src="../images/main.png" height="500"> </img><img src="../images/main_bot.png" height="500"></img> <img src="../images/edit.png" height="500"> </img>

**메인화면**
> `추가` 버튼을 클릭하여 새로운 스크립트를 생성합니다.
- 활성화 : 모든 스크립트에 대하여 활성화/비활성화 여부를 지정합니다.
- 추가(+) : 새로운 스크립트를 추가합니다. (스크립트 ≒ 봇)

<br />

**메인화면 - test 스크립트**
> 스크립트에 대한 컴파일이 필요한 경우, 좌측에 초록색 아이콘이 표시됩니다.
- `활성화` : 해당 스크립트에 대하여 활성화/비활성화 여부를 지정합니다.
- `새로고침` : 스크립트를 컴파일합니다. (컴파일: 소스코드를 실행파일로 변환하는 작업)
- `연필모양` : 스크립트를 편집합니다.
- `채팅모양` : 스크립트가 잘 구동하는지 테스트합니다.
  * 디폴트 Room 이름 : `DEBUG ROOM`
  * 디폴트 Sender 이름 : `DEBUG SENDER`
- `막대모양` : 스크립트에서 출력되는 로그 메시지를 확인합니다.
- `재생버튼` : 액티비티 화면 관련으로 onCreate 명령어가 실행됨
- `설정버튼` : 스크립트에 대한 개별 설정입니다.

<br />

**편집화면 - test 스크립트**
> 코드 수정 후 반드시 우측 상단 폴더의 `저장하고 컴파일`을 수행해야 합니다.
- `폴더모양` : `저장` 또는 `저장하고 컴파일`
- `연필모양` : 되돌리기, 다시 실행, 모두 선택, 붙여넣기 등 편집 도구
- `설정버튼` : 자동 정렬, 검색, 공유, 이동, 자세히(문자 및 라인 수) 등 편의 도구
  * Beautify(Experimental) : 자동 정렬 (소스코드를 보기 편하게 탭 등을 자동으로 정렬)

<br />